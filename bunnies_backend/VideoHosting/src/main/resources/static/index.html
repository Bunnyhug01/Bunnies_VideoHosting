<html>
<body>

<input id="file" type="file">

<script>
    const input = document.getElementById("file")

    function changeFile() {
        return upload(input.files[0].name, input.files[0])
    }

    input.addEventListener('change', changeFile);

    async function upload(name, file) {
        const formData = new FormData();
        formData.append('name', name);
        formData.append('file', file);

        return fetch("/upload", {
            method: "POST",
            body: formData,
            headers: {
                "Authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyIiwiaWF0IjoxNjk3NDcwMjAyLCJleHAiOjE2OTc0NzM4MDJ9.OcOM-K06u7WdKMUJurJTrYzZgXmJfZQtbp7ULV7aE2I"
            }
        })
    }
</script>
</body>
</html>